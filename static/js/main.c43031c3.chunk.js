(this["webpackJsonptruss-solver"]=this["webpackJsonptruss-solver"]||[]).push([[0],{111:function(e,t,n){},112:function(e,t,n){},113:function(e,t,n){},114:function(e,t,n){},117:function(e,t,n){},118:function(e,t,n){},136:function(e,t,n){},137:function(e,t,n){},138:function(e,t,n){},139:function(e,t,n){},140:function(e,t,n){},142:function(e,t,n){},143:function(e,t,n){},144:function(e,t,n){},145:function(e,t,n){},146:function(e,t,n){},147:function(e,t,n){},148:function(e,t,n){},149:function(e,t,n){},150:function(e,t,n){},153:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"getAllNodes",(function(){return J})),n.d(a,"_generateId",(function(){return M})),n.d(a,"_generateName",(function(){return A})),n.d(a,"getNodeById",(function(){return P})),n.d(a,"getNodeByName",(function(){return U})),n.d(a,"addNode",(function(){return W})),n.d(a,"updateNode",(function(){return G})),n.d(a,"deleteNode",(function(){return L})),n.d(a,"getSupportValues",(function(){return T})),n.d(a,"getSupportType",(function(){return X})),n.d(a,"createNode",(function(){return Y})),n.d(a,"setForce",(function(){return q})),n.d(a,"setDisplacement",(function(){return V})),n.d(a,"setNodeResults",(function(){return H}));var r={};n.r(r),n.d(r,"getAllBars",(function(){return K})),n.d(r,"getBarById",(function(){return Q})),n.d(r,"getBarNodes",(function(){return Z})),n.d(r,"deleteConnectedBars",(function(){return $})),n.d(r,"createBar",(function(){return ee})),n.d(r,"updateBarNode",(function(){return te})),n.d(r,"updateBar",(function(){return ne})),n.d(r,"addBar",(function(){return ae})),n.d(r,"deleteBar",(function(){return re})),n.d(r,"setBarResults",(function(){return oe}));var o=n(0),i=n.n(o),c=n(38),l=n.n(c),u=n(40),s=n(9),d=n(19),m=n(34),f=n(4),p=n(12),h=n(11),y=n(16),b=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(f.a)(this,e),this.x=Number(t),this.y=Number(n)}return Object(y.a)(e,[{key:"resultant",get:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}}]),e}(),v=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(f.a)(this,n),t.call(this,e,a)}return n}(b),g=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(f.a)(this,n),t.call(this,e,a)}return n}(b),x=n(20),E=n(33),N=Object(E.a)("supportValues"),O=function e(t){Object(f.a)(this,e),Object.defineProperty(this,N,{writable:!0,value:{Roller:{x:0,y:1},Pin:{x:1,y:1},None:{x:0,y:0}}});var n=Object(x.a)(this,N)[N][t];this.type=n?t:"None",this.x=Object(x.a)(this,N)[N][this.type].x,this.y=Object(x.a)(this,N)[N][this.type].y},S=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(f.a)(this,n),t.call(this,e,a)}return n}(b),_=function e(t,n,a,r,o,i){Object(f.a)(this,e),this._id=t,this.name=n,this.coordinates=new g(a.x,a.y),this.force=new v(r.x,r.y),this.support=new O(o.type),this.displacement=new S(i.x,i.y)},j=Object(E.a)("materials"),C=function(){function e(t){Object(f.a)(this,e),Object.defineProperty(this,j,{writable:!0,value:{Steel:{index:1,rating:29e3},Wood:{index:3,rating:4200}}}),this._type=t;var n=Object(x.a)(this,j)[j][this._type];n?(this._index=n.index,this._rating=n.rating):(this._index=0,this._rating=0)}return Object(y.a)(e,[{key:"index",set:function(e){this._index=e,this._rating=1===e?Object(x.a)(this,j)[j].Steel.rating:Object(x.a)(this,j)[j].Wood.rating,this.type=1===e?"Steel":"Wood"},get:function(){return this._index}},{key:"rating",set:function(e){this._rating=e,this._index=29e3===e?1:3,this.type=29e3===e?"Steel":"Wood"},get:function(){return this._rating}},{key:"type",set:function(e){this._type=e;var t=Object(x.a)(this,j)[j][this._type];this._index=t.index,this._rating=t.rating},get:function(){return this._type}}]),e}(),w=function e(t){Object(f.a)(this,e),this.type=t},k=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Object(f.a)(this,n),(e=t.call(this,"Circular"))._radius=a,e.area=e._radius*e._radius*Math.PI,e}return Object(y.a)(n,[{key:"diameter",get:function(){return 2*this._radius}},{key:"radius",set:function(e){this._radius=e,this.area=this._radius*this._radius*Math.PI},get:function(){return this._radius}}]),n}(w),F=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(f.a)(this,n),(e=t.call(this,"Rectangular")).height=a,e.width=r,e.area=e.height*e.width,e}return n}(w),B=function(){function e(t,n,a,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;Object(f.a)(this,e),this._id=t,this.nodeI=n,this.nodeJ=a,this.material=new C(r),this.section="Circular"===o?new k(1):new F(1,1),this.internalForce=i,this.stress=c,this.name="".concat(this.nodeI.name).concat(this.nodeJ.name)}return Object(y.a)(e,[{key:"length",get:function(){if(this.nodeI&&this.nodeJ){var e=this.nodeI.coordinates,t=e.x,n=e.y,a=this.nodeJ.coordinates,r=a.x,o=a.y,i=Math.abs(t-r),c=Math.abs(n-o);return Math.sqrt(i*i,c*c)}return 0}}]),e}(),I=function(e){return JSON.parse(localStorage.getItem(e))},R=function(e,t){return localStorage.setItem(e,JSON.stringify(t)),I(e)},D=function(e){try{return e.map((function(e){var t=e._id,n=e.name,a=e.coordinates,r=e.force,o=e.support,i=e.displacement;return new _(t,n,a,r,o,i)}))}catch(t){return null}},z=function(e){try{return e.map((function(e){var t=e._id,n=e.nodeI,a=e.nodeJ,r=e.material,o=e.section;return new B(t,n,a,r._type,o)}))}catch(t){return null}},J=function(){var e=I("nodes");if(!e)return R("nodes",[]);try{return D(e)}catch(t){console.error(t)}},M=function(){return"_".concat(Math.random().toString(36).substr(2,9))},A=function(e){if(e&&e.length>0){var t=e.map((function(e){return e.name.charCodeAt(0)}));return String.fromCharCode(Math.max.apply(Math,Object(m.a)(t))+1)}return"A"},P=function(e){return I("nodes").find((function(t){return t._id===e}))},U=function(e){return I("nodes").find((function(t){return t.name===e}))},W=function(e){var t=Y(e);if(t){var n=J().filter((function(t){return t._id!==e._id}));return n.push(t),R("nodes",n)}return I("nodes")},G=function(e){if(e){var t=J().filter((function(t){return t._id!==e._id})),n=Y(e);return n?(t.push(n),{newNode:n,nodes:t}):t}},L=function(e){var t=J().filter((function(t){return t._id!==e}));return R("nodes",t)},T=function(e){return""===e?{xSupport:0,ySupport:0}:{Pin:{xSupport:1,ySupport:1},Roller:{xSupport:0,ySupport:1}}[e]},X=function(e){var t=e.xSupport,n=e.ySupport;return t>0&&n>0?"Pin":0===t&&n>0?"Roller":""},Y=function(e){if(function(e){if(!e)return!1;var t=e.xCoord,n=e.yCoord,a=e.xForce,r=e.yForce;return!(isNaN(Number(t))||isNaN(Number(n))||isNaN(Number(a))||isNaN(Number(r))||isNaN(Number(t)))}(e)){var t=e._id,n=e.name,a=e.xCoord,r=e.yCoord,o=e.xForce,i=e.yForce,c=e.support,l=e.xDisplacement,u=e.yDisplacement,s=J();return new _(t||M(),n||A(s),new g(a,r),new v(o,i),new O(c.type||c),new S(l,u))}return null},q=function(e,t){return t.map((function(t){var n=t,a=e[t._id],r=a.x,o=a.y;return n.force=new v(r,o),n}))},V=function(e,t){return t.map((function(t){var n=t,a=e[t._id],r=a.x,o=a.y;return n.displacement=new S(r,o),n}))},H=function(e,t,n){var a=q(t,e);return a=V(n,a)},K=function(){var e=I("bars");return e?z(e):R("bars",[])},Q=function(e){var t=K().find((function(t){return t._id===e}));return t||null},Z=function(e){var t=e.nodeNameI,n=e.nodeNameJ,a=U(t),r=U(n);return a&&r?{nodeI:a,nodeJ:r}:null},$=function(e){var t=K().filter((function(t){return t.nodeI._id!==e&&t.nodeJ._id!==e}));return R("bars",t)},ee=function(e){var t=e._id,n=e.material,a=e.section,r=Z(e);if(r){var o=r.nodeI,i=r.nodeJ;return new B(t||"_"+Math.random().toString(36).substr(2,9),o,i,n,a)}return null},te=function(e){var t=K().map((function(t){return t.nodeI._id===e._id?t.nodeI=e:t.nodeJ._id===e._id&&(t.nodeJ=e),t}));return R("bars",t)},ne=function(e){var t=K().filter((function(t){return t._id!==e._id})),n=ee(e);if(!n)return null;Object(m.a)(t).push(n)},ae=function(e){var t=K().filter((function(t){return t._id!==e._id})),n=ee(e);return n?(t.push(n),R("bars",t),t):null},re=function(e){var t=K().filter((function(t){return t._id!==e}));return R("bars",t)},oe=function(e,t,n){return e.map((function(e){return e.internalForce=t[e._id],e.stress=n[e._id],e}))},ie={width:2e3,height:2e3},ce=ie.width/2,le=ie.height/2,ue=function(e,t){return{xRel:ce+e,yRel:ie.height-le-t}},se=function(e){return{planeSize:ie,viewBox:{width:ie.width,height:ie.height}}},de=n(25),me=n.n(de);me.a.defaults.baseURL="https://truss-solver-server.herokuapp.com/";var fe={get:me.a.get,post:me.a.post,put:me.a.put,delete:me.a.delete},pe=n(41),he=n(17),ye=(n(93),function(e){var t=e.placement,n=e.text,a=t.x,r=t.y;return i.a.createElement("text",{className:"coordinatesLabel",x:a,y:r},n)}),be=(n(94),function(e){var t=e.contactCoords,n=e.type,a=e.offset,r=t.xRel,o=t.yRel,c=i.a.createElement(i.a.Fragment,null,i.a.createElement("line",{x1:"".concat(r-20),y1:"".concat(o+15+a),x2:"".concat(r+20),y2:"".concat(o+15+a),stroke:"black",strokeWidth:"".concat(2.25)})),l=i.a.createElement(i.a.Fragment,null,i.a.createElement("polygon",{points:"".concat(r,"            ,").concat(o+a," \n                 ").concat(r-10,", ").concat(o+15+a,"\n                 ").concat(r+10,",").concat(o+15+a),fill:"#00000000",stroke:"#000000",strokeWidth:"".concat(1.5)}),c),u=i.a.createElement(i.a.Fragment,null,i.a.createElement("circle",{cx:r,cy:o+7.5+a,r:7.5,fill:"#00000000",stroke:"#000000",strokeWidth:"".concat(1.5)}),c);return i.a.createElement(i.a.Fragment,null,n.xSupport>0&&n.ySupport>0&&l?l:0===n.xSupport&&n.ySupport>0?u:null)}),ve=function(e){var t=e.xRel,n=e.yRel,a=e.direction,r=e.magnitude,o=e.style;return i.a.createElement("rect",Object.assign({style:o,className:"force",rx:"2.5",x:t-3,y:n-3},"x"===a?{height:6,width:20}:{height:20,width:6},function(){var e={transform:"rotate(180 ".concat(t," ").concat(n,")")};return"x"===a?r<0&&e:"y"===a?r>0&&e:void 0}(),{fill:"x"===a?"red":"green"}))},ge=(n(95),function(e){var t=e.placement,n=e.radius,a=e.fill,r=e.isSelected,o={cx:t.xRel,cy:t.yRel},c={stroke:"black",strokeWidth:"2.5"};return i.a.createElement("g",null,r?i.a.createElement(he.Transition,{items:[i.a.createElement("circle",Object.assign({},o,{r:1.5*n},c))],from:{fill:"".concat(a)},enter:{fill:"red"}},(function(e){return e&&function(t){return i.a.createElement("g",{style:t},e)}})):i.a.createElement("circle",Object.assign({},o,{r:n},c,{fill:"white"})))}),xe=(n(111),function(e){var t=e.data,n=e.onClick,a=e.isSelected,r=e.size,o=e.fill,c=e.labelOn,l=e.forcesOn,u=e.nameOn,s=e.nodeNameColor,d=e.animation,m=t._id,f=t.name,p=t.coordinates,h=t.force,y=t.support,b=r,v=ue(p.x,p.y),g=v.xRel,x=v.yRel,E=function(e,t,n){return{x:t-2*e,y:n-1.5*e}}(b,g,x),N="".concat(p.x,",").concat(p.y),O="".concat(f).concat(N);return i.a.createElement("g",{style:d,className:"clickable node",onClick:function(){return n(m)}},h.x&&l&&i.a.createElement(he.Spring,{from:{opacity:0},to:{opacity:1},delay:500},(function(e){return i.a.createElement(ve,{style:e,xRel:g,yRel:x,direction:"x",magnitude:h.x})})),h.y&&l&&i.a.createElement(he.Spring,{from:{opacity:0},to:{opacity:1},delay:500},(function(e){return i.a.createElement(ve,{style:e,xRel:g,yRel:x,direction:"y",magnitude:h.y})})),i.a.createElement(be,{contactCoords:{xRel:g,yRel:x},type:{xSupport:y.x,ySupport:y.y},offset:b}),i.a.createElement(ge,{placement:{xRel:g,yRel:x},label:f,labelColor:s||"#000",radius:b,fill:o,isSelected:a,nameOn:u}),c&&i.a.createElement(ye,{text:O,placement:E}))}),Ee=(n(112),function(e){var t=e.data,n=e.onClick,a=e.fill,r=e.width,o=e.animation,c=t._id,l=t.nodeI,u=t.nodeJ,s=ue(l.coordinates.x,l.coordinates.y),d=ue(u.coordinates.x,u.coordinates.y);return i.a.createElement("g",{className:"bar clickable",onClick:function(){return n(c)},style:o},i.a.createElement("line",{strokeLinecap:"round",rx:"5",x1:s.xRel,y1:s.yRel,x2:d.xRel,y2:d.yRel,stroke:a,strokeWidth:r}))}),Ne=(n(113),function(e){var t=e.planeSize,n=e.primaryData,a=e.secondaryData,r=e.selectedNode,c=e.onSetSelectedNode,l=e.onSetSelectedBar,u=e.primaryLabelsOn,s=e.primaryNamesOn,m=e.secondaryLabelsOn,f=e.secondaryNamesOn,p=e.primaryForcesOn,h=e.secondaryForcesOn,y=e.nodeFill,b=e.nodeSize,v=e.nodeNameColor,g=e.barFill,x=e.barSize,E=Object(o.useState)(0),N=Object(d.a)(E,2),O=N[0],S=N[1],_=Object(o.useState)(0),j=Object(d.a)(_,2),C=j[0],w=j[1],k=Object(o.useRef)(null);Object(o.useEffect)((function(){S(k.current.clientWidth),w(k.current.clientHeight)}),[C,O]);return i.a.createElement("div",{id:"coordinatePlane",ref:k},i.a.createElement(pe.b,{defaultScale:1,options:{limitToBounds:!1},defaultPositionX:-(t.width/4+O),defaultPositionY:-(t.height/4-C),doubleClick:{mode:"zoomOut"}},i.a.createElement(pe.a,null,i.a.createElement("svg",{width:t.width,height:t.height},i.a.createElement(i.a.Fragment,null,n.bars.map((function(e){return i.a.createElement(he.Spring,{key:e._id,from:{opacity:.1},to:{opacity:1}},(function(t){return i.a.createElement(Ee,{animation:t,data:e,onClick:l,fill:g[0],width:x[0]})}))}))),i.a.createElement(i.a.Fragment,null,n.nodes.map((function(e){return i.a.createElement(he.Spring,{key:e._id,from:{opacity:.1},to:{opacity:1}},(function(t){return i.a.createElement(xe,{animation:t,data:e,onClick:c,isSelected:e._id===r._id,fill:y,size:b[0],nameOn:s,nodeNameColor:v,labelOn:u,forcesOn:p})}))}))),i.a.createElement(i.a.Fragment,null,a&&a.bars.map((function(e,t){return i.a.createElement(he.Spring,{key:t,from:{opacity:0},to:{opacity:1},delay:750,config:he.config.slow},(function(t){return i.a.createElement(Ee,{animation:t,data:e,onClick:function(){},fill:g[1],width:x[1]})}))}))),i.a.createElement(i.a.Fragment,null," ",a&&a.nodes.map((function(e,t){var n=e.displacement,a=n.x,o=n.y;return i.a.createElement(he.Spring,{key:t,from:{transform:"translate3d(".concat(-a,"px,").concat(o,"px,0)")},to:{transform:"translate3d(0px,0px,0)"},config:he.config.wobbly,delay:500},(function(t){return i.a.createElement(xe,{animation:t,data:e,onClick:function(){},isSelected:e._id===r._id,fill:"orange",size:b[1],nameOn:f,labelOn:m,forcesOn:h})}))})))))))}),Oe=n(66),Se=(n(114),function(e){var t=e.label,n=e.onClick,a=e.color;return i.a.createElement(Oe.a,{className:"w-100 mt-1",size:"sm",onClick:n,color:a},t)}),_e=n(35),je=n(155),Ce=n(154),we=n(156),ke=(n(117),function(e){var t=e.name,n=e.label,a=e.type,r=e.value,o=e.onChange,c=e.placeholder,l=e.disabled;return i.a.createElement("div",{className:"inputFormGroup"},i.a.createElement(Ce.a,null,n&&i.a.createElement(je.a,{for:t},n),i.a.createElement(we.a,{bsSize:"sm",type:a,name:t,value:r,onChange:o,placeholder:c,disabled:l})))}),Fe=n(157),Be=n(160),Ie=n(159),Re=n(158),De=(n(118),function(e){var t=e.options,n=e.name,a=e.label,r=e.selected,c=e.onChange,l=e.disabled,u=Object(o.useState)(!1),s=Object(d.a)(u,2),m=s[0],f=s[1];return i.a.createElement(Fe.a,{className:"mb-2",disabled:l,isOpen:m,toggle:function(){return f((function(e){return!e}))},size:"sm"},i.a.createElement(Be.a,{color:l?"outline-secondary":"outline-primary",size:"sm",className:"col-12",caret:!0},r||a),i.a.createElement(Ie.a,null,t.map((function(e){return i.a.createElement(Re.a,{key:e,name:n,value:e,onClick:c},e)}))))}),ze=(n(136),function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(f.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleSubmit=function(t){t.preventDefault(),e.doSubmit()},e.handleChange=function(t){var n=t.currentTarget,a=Object(_e.a)({},e.state).data,r=n.value;a[n.name]=r,e.setState({data:a}),r&&e.doUpdate()},e.renderInputFormGroup=function(e,t,n,a,r,o,c){return i.a.createElement(ke,{name:e,label:t,type:n,value:a,onChange:r,placeholder:o,disabled:c})},e.renderSubmitBtn=function(e,t){return i.a.createElement(Oe.a,{color:t?"secondary":"primary",size:"sm",type:"submit",disabled:t,className:"w-100"},e)},e.renderDropdownMenu=function(e,t,n,a,r,o){return i.a.createElement(De,{options:e,name:t,label:n,selected:a,onChange:r,disabled:o})},e.renderActionButton=function(e,t,n){return i.a.createElement(Se,{label:e,onClick:t,color:n})},e}return n}(o.Component)),Je=(n(137),function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(f.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={data:{_id:"",name:"",xCoord:0,yCoord:0,xForce:0,yForce:0,support:"None"},supportOptions:["Pin","Roller","None"],errors:{}},e}return Object(y.a)(n,[{key:"_initializeForm",value:function(){this.setState({data:{_id:"",name:"",xCoord:0,yCoord:0,xForce:0,yForce:0,support:"None"}}),this.setState({support:""})}},{key:"componentDidUpdate",value:function(e){var t=e.data,n=this.props.data;if(n._id&&t._id!==n._id){var a=Object(_e.a)({},n);a.xCoord=n.coordinates.x,a.yCoord=n.coordinates.y,a.xForce=n.force.x,a.yForce=n.force.y,a.support=n.support.type,delete a.coordinates,delete a.force,delete a.displacement,this.setState({data:a})}}},{key:"doDelete",value:function(e){this.props.onDeleteNode(e),this._initializeForm()}},{key:"doUpdate",value:function(){this.props.onUpdateNode(this.state.data)}},{key:"doSubmit",value:function(){this.props.onAddNode(this.state.data),this._initializeForm()}},{key:"render",value:function(){var e=this,t=this.state.data,n=t._id,a=t.name,r=t.xCoord,o=t.yCoord,c=t.xForce,l=t.yForce,u=t.support,s=this.state.supportOptions;return i.a.createElement("div",{id:"nodeForm",className:"w-100"},i.a.createElement("h4",null,"Nodes"),a&&i.a.createElement(je.a,null,"Name: ",a),i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement(je.a,null,"Coordinates"),this.renderInputFormGroup("xCoord",null,"number",r,this.handleChange,"X-Coordinate"),this.renderInputFormGroup("yCoord",null,"number",o,this.handleChange,"Y-Coordinate"),i.a.createElement(je.a,null,"Forces"),this.renderInputFormGroup("xForce",null,"number",c,this.handleChange,"X-Component",!n),this.renderInputFormGroup("yForce",null,"number",l,this.handleChange,"Y-Component",!n),i.a.createElement(je.a,null,"Support Type"),this.renderDropdownMenu(s,"support","Support",u,this.handleChange,!n),this.renderSubmitBtn(n?"Update":"Add"),n?this.renderActionButton("Delete",(function(){return e.doDelete(n)}),"danger"):null))}}]),n}(ze)),Me=(n(138),function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(f.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={data:{_id:"",nodeNameI:"",nodeNameJ:"",material:"Steel",section:"Circular"},errors:{}},e.doUpdate=function(){e.props.onUpdateBar(e.state.data)},e.doSubmit=function(){e.props.onAddBar(e.state.data),e._initializeForm()},e.doDelete=function(){e.props.onDeleteBar(e.state.data._id),e._initializeForm()},e.isDisabled=function(e,t){return!e||!t},e}return Object(y.a)(n,[{key:"componentDidMount",value:function(){this._initializeForm()}},{key:"componentDidUpdate",value:function(e){var t=this.props.data;if(e.data._id!==t._id){var n=t._id,a=t.nodeI,r=t.nodeJ,o=t.material,i=t.section,c={_id:n,nodeNameI:a.name,nodeNameJ:r.name,material:o._type,section:i.type};this.setState({data:c})}}},{key:"_initializeForm",value:function(){this.setState({data:{_id:"",nodeNameI:"",nodeNameJ:"",material:"Steel",section:"Circular"}})}},{key:"render",value:function(){var e=this.state.data,t=e._id,n=e.nodeNameI,a=e.nodeNameJ,r=e.material,o=e.section;return i.a.createElement("div",{id:"barForm",className:"w-100"},i.a.createElement("h4",{className:"mt-2"},"Bars"),i.a.createElement(je.a,null,"Nodes"),i.a.createElement("form",{onSubmit:this.handleSubmit},this.renderInputFormGroup("nodeNameI","","text",n,this.handleChange,"Node 1"),this.renderInputFormGroup("nodeNameJ","","text",a,this.handleChange,"Node 2"),this.renderDropdownMenu(["Steel","Wood"],"material","Material",r,this.handleChange,this.isDisabled(n,a)),this.renderDropdownMenu(["Rectangular","Circular"],"section","Section",o,this.handleChange,this.isDisabled(n,a)),this.renderSubmitBtn(t?"Update":"Add",this.isDisabled(n,a)),t?this.renderActionButton("Delete",this.doDelete,"danger"):null))}}]),n}(ze)),Ae=(n(139),function(e){var t=Object(o.useState)(D(J())),n=Object(d.a)(t,2),c=n[0],l=n[1],u=Object(o.useState)(z(K())),s=Object(d.a)(u,2),m=s[0],f=s[1],p=Object(o.useState)({id:""}),h=Object(d.a)(p,2),y=h[0],b=h[1],v=Object(o.useState)({id:""}),g=Object(d.a)(v,2),x=g[0],E=g[1],N=function(e){var t=ne(e);t&&f(t)},O=se(),S=O.planeSize,_=O.viewBox;return i.a.createElement("div",{id:"trussSolver",className:"d-flex justify-self-center justify-space-between m-2"},i.a.createElement("div",{className:"forms container d-flex flex-column justify-content-between col-2"},i.a.createElement("div",{className:"row"},i.a.createElement(Je,{controller:a,onAddNode:function(e){return function(e){var t=W(e);l(t),b({id:""})}(e)},onUpdateNode:function(e){return function(e){var t=G(e),n=t.nodes,a=t.newNode;l(n);var r=te(a);f(r)}(e)},onDeleteNode:function(e){return function(e){var t=L(e);l(t);var n=$(e);f(n),b({id:""})}(e)},data:y}),i.a.createElement(Me,{controller:r,onAddBar:function(e){return function(e){var t=ae(e);t&&f(t)}(e)},onUpdateBar:function(e){return N(e)},onDeleteBar:function(e){return function(e){var t=re(e);f(t)}(e)},data:x}),i.a.createElement(Se,{label:"Calculate",onClick:function(){fe.post("api/calculate",{nodes:c,bars:m}).then((function(t){var n=H(c,t.data.forces,t.data.displacement),a=oe(m,t.data.internal,t.data.stress);e.history.push({pathname:"/truss-solver/results",state:{resultantNodes:n,resultantBars:a}})})).catch((function(e){console.log(e),alert("Please double check input members.")}))},color:"success"})),i.a.createElement("div",{className:"row"},i.a.createElement(Se,{label:"Reset",onClick:function(){f([]),l([]),b({id:""}),localStorage.clear()},color:"danger"}))),i.a.createElement("div",{className:"col-10"},i.a.createElement(Ne,Object.assign({viewBox:_,planeSize:S,primaryData:{nodes:c,bars:m},secondaryData:null,selectedNode:y,selectedBar:x,onSetSelectedNode:function(e){return function(e){var t=P(e);b(t)}(e)},onSetSelectedBar:function(e){return function(e){var t=Q(e);E(t),N(t)}(e)},primaryLabelsOn:!0,primaryNamesOn:!0,primaryForcesOn:!0},{nodeNameColor:"#0000ff",nodeSize:[4,4],nodeFill:"white",barSize:[4,4],barFill:["gray","#0000ff2f"]}))))}),Pe=(n(140),function(e){var t=e.columns;return i.a.createElement("thead",null,i.a.createElement("tr",null,t.map((function(e){return i.a.createElement("th",{scope:"col",key:e.label},e.label)}))))}),Ue=n(69),We=n.n(Ue),Ge=(n(142),function(e){var t=e.data,n=e.columns;return i.a.createElement("tbody",null,t.map((function(e){return i.a.createElement("tr",{key:e._id},n.map((function(t){var n=We.a.get(e,t.path);return t.content?i.a.createElement("td",{key:t.key},t.content(n)):i.a.createElement("td",{key:t.path},isNaN(n)?n:n.toFixed(2))})))})))}),Le=(n(143),function(e){var t=e.columns,n=e.data,a=e.header;return i.a.createElement("div",null,i.a.createElement("h4",null,a),i.a.createElement("table",{className:"table table-bordered table-sm"},i.a.createElement(Pe,{columns:t}),i.a.createElement(Ge,{columns:t,data:n})))}),Te=(n(144),function(e){var t=e.data;return i.a.createElement(Le,{columns:[{path:"name",label:"Name"},{path:"displacement.x",label:"X"},{path:"displacement.y",label:"Y"}],data:t,header:"Displacements"})}),Xe=(n(145),function(e){var t=e.data;return i.a.createElement(Le,{columns:[{path:"name",label:"Name"},{path:"force.x",label:"X"},{path:"force.y",label:"Y"}],data:t,header:"Forces"})}),Ye=(n(146),n(147),function(e){var t=e.data,n=[{path:"name",label:"Name"},{path:"stress",label:"Mag."},{key:"type",path:"stress",content:function(e){return a(e)},label:"Type"}],a=function(e){return e<0?"C":"T"};return i.a.createElement(Le,{columns:n,data:t,header:"Stress"})}),qe=(n(148),function(e){var t=e.data;return i.a.createElement(Le,{columns:[{path:"name",label:"Name"},{path:"stress",label:"Mag."}],data:t,header:"Internal Forces"})}),Ve=function(e){var t,n=J(),a=K(),r=e.history.location.state,o=r.resultantNodes,c=r.resultantBars,l=se(),u=l.planeSize,s=l.viewBox,d=(t=40,o.map((function(e){var n=e,a=e.displacement,r=a.x,o=a.y,i=e.coordinates,c=i.x,l=i.y;return n.displacement.x=r*t,n.displacement.y=o*t,n.coordinates.x=c+n.displacement.x,n.coordinates.y=l+n.displacement.y,n.support=new O,n}))),m=function(e,t){var n={};return t.forEach((function(e){return n[e._id]=e})),e.map((function(e){var t=n[e.nodeI._id],a=n[e.nodeJ._id],r=e._id,o=e.material,i=e.section,c=e.internalForce,l=e.stress;return new B(r,t,a,o,i,c,l)}))}(c,d);return i.a.createElement("div",{id:"results",className:"d-flex justify-self-center justify-space-between m-2"},i.a.createElement("div",{className:"col-2"},i.a.createElement(Te,{data:o}),i.a.createElement(Xe,{data:o}),i.a.createElement(Ye,{data:c}),i.a.createElement(qe,{data:c}),i.a.createElement(Se,{onClick:function(){return e.history.push("/truss-solver")},label:"Edit Members",color:"warning"})),i.a.createElement("div",{className:"col-10"},i.a.createElement(Ne,Object.assign({viewBox:s,planeSize:u,primaryData:{nodes:n,bars:a},secondaryData:{nodes:d,bars:m},selectedNode:{id:""},onSetSelectedNode:function(){},onSetSelectedBar:function(){},primaryLabelsOn:!1,primaryNamesOn:!1,primaryForcesOn:!1,secondaryLabelsOn:!0,secondaryForcesOn:!0,secondaryNamesOn:!1},{nodeSize:[4,4],nodeFill:"white",barSize:[6,6],barFill:["gray","#0000ff5f"]}))))},He=(n(149),n(150),function(){return i.a.createElement("div",{className:"App"},i.a.createElement(s.d,null,i.a.createElement(s.b,{exact:!0,path:"".concat("/truss-solver/"),component:function(e){return i.a.createElement(Ae,e)}}),i.a.createElement(s.b,{path:"".concat("/truss-solver/","results"),render:function(e){return i.a.createElement(Ve,e)}}),i.a.createElement(s.a,{from:"/*",to:"".concat("/truss-solver/")})))});l.a.render(i.a.createElement(u.a,null,i.a.createElement(He,null)),document.getElementById("root"))},71:function(e,t,n){e.exports=n(153)},93:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){}},[[71,1,2]]]);
//# sourceMappingURL=main.c43031c3.chunk.js.map